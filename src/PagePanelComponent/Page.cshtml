
<div class="uic-pagepanel__page" style=@BuildCurrentPageStyle()>

    @ChildContent

</div>

@functions {

    [Parameter] IEnumerable<PageState> States { get; set; } = Enumerable.Empty<PageState>();
    
    [Parameter] string Widths { get; set; }

    //[Parameter] IEnumerable<int> Widths { get; set; } = Enumerable.Empty<int>();

    [Parameter] int PageIndex { get; set; }

    [Parameter] RenderFragment ChildContent { get; set; }

    string BuildCurrentPageStyle()
    {
        var widthList = (Widths ?? "").Split(';').ToList();

        var width = widthList[Math.Max(Math.Min(PageIndex, widthList.Count - 1), 0)];

        return $"width:{width};";
    }

}